<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Universal Gravitation Simulation</title>
  <style>
    canvas {
      display: block;
      margin: auto;
      background: black;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="600"></canvas>

  <script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const sun = {
      x: 400,
      y: 300,
      radius: 20,
      mass: 2000
    };

    const planet = {
      x: 600,
      y: 300,
      radius: 8,
      mass: 1,
      vx: 0,
      vy: -2.0
    };

    const G = 6.67430e-4; // Scaled gravitational constant for display
    const trail = [];

    function update() {
      const dx = sun.x - planet.x;
      const dy = sun.y - planet.y;
      const distanceSquared = dx * dx + dy * dy;
      const distance = Math.sqrt(distanceSquared);

      const force = (G * sun.mass * planet.mass) / distanceSquared;
      const ax = force * dx / distance / planet.mass;
      const ay = force * dy / distance / planet.mass;

      planet.vx += ax;
      planet.vy += ay;

      planet.x += planet.vx;
      planet.y += planet.vy;

      // Save trail
      trail.push({ x: planet.x, y: planet.y });
      if (trail.length > 500) trail.shift();
    }

    function draw() {
      ctx.fillStyle = "black";
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Draw sun
      ctx.fillStyle = "yellow";
      ctx.beginPath();
      ctx.arc(sun.x, sun.y, sun.radius, 0, 2 * Math.PI);
      ctx.fill();

      // Draw trail
      ctx.strokeStyle = "rgba(0, 255, 255, 0.5)";
      ctx.beginPath();
      for (let i = 0; i < trail.length; i++) {
        const p = trail[i];
        if (i === 0) ctx.moveTo(p.x, p.y);
        else ctx.lineTo(p.x, p.y);
      }
      ctx.stroke();

      // Draw planet
      ctx.fillStyle = "cyan";
      ctx.beginPath();
      ctx.arc(planet.x, planet.y, planet.radius, 0, 2 * Math.PI);
      ctx.fill();
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
</html>

